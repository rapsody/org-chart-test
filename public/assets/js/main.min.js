"use strict"
$(document).ready(function(){function t(t){jQuery.each(t,function(){var t=!1,e=document.createElement("div")
$(e).attr("class","popup"),$(e).attr("id","parentID_"+this.id)
var a=document.createElement("div")
$(a).attr("class","header"),$(a).text(this.name+" ("+this.title+")")
var n=document.createElement("div")
if($(n).attr("class","content"),1==this.base&&0==t){$(".containers").append(e),$(e).append(a),$(e).append(n),t=!0}else $(e).append(a),$(e).append(n),$(e).appendTo("#parentID_"+this.parentID+" .content:nth(0)")})}function e(){$(".containers .popup .content").droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",out:function(){$(this).droppable("option","disabled",!1)},drop:function(t,e){var n=this.id,d=e.draggable.get(0).id,p={userId:d,targetId:n}
$.post(a+"index.php?api=staff",p,function(t){$(".results").text("Successfully updated").fadeOut(3e3)}),$(e.draggable).addClass("insidePopup"),e.draggable.detach().appendTo($(this))}}),$(".popup").draggable({helper:"clone",containment:"document"})}var a="http://52.62.59.93/test/public/"
$.ajax({url:a+"index.php?api=staff",success:function(a){t(a),e()},error:function(t){$(".results").text("No data could be retrieved").fadeOut(1e4)}})})
